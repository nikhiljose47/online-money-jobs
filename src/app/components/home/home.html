<div *ngIf="isLoggedIn(); else showLogin" class="dark-theme">
  <div class="container-fluid py-4">
    <div class="row g-4">
      <!-- Left Column: Banner + Post Job -->
      <div
        class="col-lg-8 d-flex flex-column justify-content-center align-items-center text-center banner-section rounded-4 p-4 shadow-lg">
        <!-- <img
          src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbGlzMm5uYTZrMjh6aXBrZTRpNmpxMWY5OHVxZDl5c2Q3MndzcDVmNiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3o7aCSPqXE5C6T8tBC/giphy.gif"
          alt="Work Theme" class="img-fluid rounded-4 mb-4 banner-gif" /> -->
        <h2 class="fw-bold text-light mb-3">Find or Post Exciting Online Jobs</h2>
        <p class="text-secondary mb-4">Connect with skilled professionals and make work happen faster.</p>
        <button class="btn btn-lg btn-gradient px-4 py-2" routerLink="/post-job">
          <i class="bi bi-plus-circle me-2"></i> Add New Job
        </button>
      </div>

      <!-- Right Column: Job Listings -->
      <div class="col-lg-4">
        <div class="card bg-dark text-light shadow-lg p-4 rounded-4">
          <h4 class="fw-semibold mb-3"><i class="bi bi-briefcase me-2"></i>All Jobs</h4>

          <!-- Controls -->
          <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
            <!-- <div class="text-secondary small fw-semibold">Search</div> -->
            <search-bar [jobs]="jobs()" (jobSelected)="searchedJob($event)"></search-bar>

            <div class="vr mx-2 bg-secondary"></div>
            <button class="btn btn-sm btn-outline-light"> Money based</button>
            <button class="btn btn-sm btn-outline-light" [class.active]="sortOption() === 'Latest'"
              (click)="setSort('Latest')">
              Latest
            </button>
            <button class="btn btn-sm btn-outline-light" [class.active]="sortOption() === 'Oldest'"
              (click)="setSort('Oldest')">
              Oldest
            </button>

            <div class="vr mx-2 bg-secondary"></div>

            <button class="btn btn-sm btn-outline-success" [class.active]="filterOption() === 'All'"
              (click)="setFilter('All')">
              All
            </button>
            <button class="btn btn-sm btn-outline-success" [class.active]="filterOption() === 'Frontend'"
              (click)="setFilter('Frontend')">
              Frontend
            </button>
            <button class="btn btn-sm btn-outline-success" [class.active]="filterOption() === 'Backend'"
              (click)="setFilter('Backend')">
              Backend
            </button>
            <button class="btn btn-sm btn-outline-success" [class.active]="filterOption() === 'Fullstack'"
              (click)="setFilter('Fullstack')">
              Fullstack
            </button>
          </div>

          <!-- Job Cards -->
          <div *ngIf="displayedJobs().length; else noJobs" class="job-list scrollable">
            <div class="card mb-3 job-card text-dark" *ngFor="let job of displayedJobs()" (click)="viewJob(job.id)">
              <div class="card-body">
                <h6 class="fw-bold mb-1">{{ job.title }}</h6>
                <p class="small text-muted mb-1">{{ job.shortDesc }}</p>
                <p class="small mb-1">{{ job.description }}</p>
                <p class="text-success small fw-semibold">{{ job.rewardOffered }}</p>
              </div>
              <div class="card-footer text-end small text-muted">
                Posted: {{ job.postedBy }} | {{ job.createdAt }}
              </div>
            </div>
          </div>

          <ng-template #noJobs>
            <p class="text-center text-muted mt-5">No jobs to display.</p>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #showLogin>
  <login></login>
</ng-template>