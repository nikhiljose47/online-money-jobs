<div class="container-fluid px-2 py-4"> <!-- Reduced horizontal padding -->
  <div class="row">
    <!-- Left Column: Use 9 for more space -->
    <div class="col-md-9">
      <form [formGroup]="solutionForm" (ngSubmit)="onSubmit()">
        <!-- Text Solution -->
        <div class="mb-3">
          <label class="form-label small fw-semibold">Your Answer</label>
          <textarea
            rows="6"
            class="form-control form-control-sm"
            formControlName="text"
            placeholder="Write your solution or story here..."
          ></textarea>
          <small class="text-muted">
            Minimum {{ solutionRules.textLen }} characters. Must contain required keywords.
          </small>
        </div>
        <!-- Image Upload -->
        <div class="mb-4">
          <label class="form-label small fw-semibold">
            Add Images (up to {{ solutionRules.imageCount }})
          </label>
          <input
            type="file"
            accept="image/*"
            multiple
            (change)="onImageSelect($event)"
            class="form-control form-control-sm"
          />
          <div class="d-flex flex-wrap gap-3 mt-3">
            <img
              *ngFor="let img of selectedImages"
              [src]="img"
              alt="Preview"
              class="rounded border"
              style="width: 120px; height: 120px; object-fit: cover;"
            />
          </div>
        </div>
      </form>
    </div>
    <!-- Right Sidebar (smaller) -->
    <div class="col-md-3 bg-light border-start ps-3">
      <h6 class="fw-semibold mt-2">ðŸ§© Solution Checks</h6>
      <ul class="list-unstyled small mt-3">
        <li [class.text-success]="hasMinLength()">
          âœ” Minimum {{ solutionRules.textLen }} characters
        </li>
        <li [class.text-success]="hasRequiredWords()">
          âœ” Contains required words:
          <span *ngFor="let word of solutionRules.textContainsWords; let i = index">
            <strong>{{ word }}</strong
            >{{ i < solutionRules.textContainsWords.length - 1 ? ', ' : '' }}
          </span>
        </li>
      </ul>
      <div class="mt-4 text-end">
        <button
          type="submit"
          class="btn btn-success btn-sm px-4"
          [disabled]="!checksPassed()"
          (click)="onSubmit()"
        >
          Submit Solution
        </button>
      </div>
    </div>
  </div>
</div>
