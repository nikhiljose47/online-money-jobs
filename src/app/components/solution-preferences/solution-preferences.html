<div class="container-fluid px-md-5 py-4">
  <div class="row">

    <!-- LEFT: Preview (60%) -->
    <div class="col-md-7 border-end pe-4">
      <h5 class="fw-bold text-primary mb-3">Preview Job</h5>

      <div *ngIf="jobData">
        <h6>{{ jobData.title }}</h6>
        <p class="text-muted small">{{ jobData.shortDesc }}</p>
        <p>{{ jobData.description }}</p>

        <div class="mt-3">
          <strong>Status:</strong> {{ jobData.status }}<br>
          <strong>Reward:</strong> ₹{{ jobData.rewardOffered }}<br>
          <strong>Posted By:</strong> {{ jobData.postedBy }}
        </div>

        <div class="d-flex flex-wrap gap-2 mt-3">
          <img *ngFor="let img of images" [src]="img" class="border rounded"
            style="width:100px; height:100px; object-fit:cover;" />
        </div>

        <div *ngIf="jobData.videoLink" class="mt-3">
          <a [href]="jobData.videoLink" target="_blank" class="text-decoration-none text-primary small">
            ▶ View Job Video
          </a>
        </div>
      </div>
    </div>

    <!-- RIGHT: Preferences Form (40%) -->
    <div class="col-md-5 ps-4">
      <h5 class="fw-bold mb-3">Solution Preferences</h5>

      <form [formGroup]="prefForm" (ngSubmit)="onPostJob()">
        <div class="mb-3">
          <label class="form-label small fw-semibold">Need solution with how many images?</label>
          <select class="form-select form-select-sm" formControlName="solutionImages">
            <option value="0">0 (text only)</option>
            <option value="1">1 image</option>
            <option value="2">2 images</option>
            <option value="3">3 images</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label small fw-semibold">Required text length</label>
          <select class="form-select form-select-sm" formControlName="textLength">
            <option value="10">10+ words</option>
            <option value="20">20+ words</option>
            <option value="100">100+ words</option>
            <option value="300">300+ words</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">
            The solution text must contain the following words:
          </label>

          <div formArrayName="textContainsWords">
            <div *ngFor="let wordCtrl of textContainsWords.controls; let i = index" class="input-group mb-2">
              <input [formControlName]="i" type="text" class="form-control form-control-sm"
                placeholder="Enter a word" />
              <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeWord(i)">
                ✕
              </button>
            </div>
          </div>

          <button type="button" class="btn btn-outline-primary btn-sm mt-2" (click)="addWord()">
            + Add Word
          </button>
        </div>
        <div class="mb-3">
          <label class="form-label small fw-semibold">Additional instructions</label>
          <textarea rows="3" class="form-control form-control-sm" formControlName="instructions"
            placeholder="Describe how you want the solution"></textarea>
        </div>

        <div class="text-end mt-4">
          <button type="submit" class="btn btn-success btn-sm px-4">Post Job</button>
        </div>
      </form>
    </div>
  </div>
</div>