<div class="container-fluid px-md-5 py-4">
  <div class="row">
    
    <!-- LEFT: Preview (60%) -->
    <div class="col-md-7 border-end pe-4">
      <h5 class="fw-bold text-primary mb-3">Preview Job</h5>

      <div *ngIf="jobData">
        <h6>{{ jobData.title }}</h6>
        <p class="text-muted small">{{ jobData.shortDesc }}</p>
        <p>{{ jobData.description }}</p>

        <div class="mt-3">
          <strong>Status:</strong> {{ jobData.status }}<br>
          <strong>Reward:</strong> ₹{{ jobData.rewardOffered }}<br>
          <strong>Posted By:</strong> {{ jobData.postedBy }}
        </div>

        <div class="d-flex flex-wrap gap-2 mt-3">
          <img *ngFor="let img of images" [src]="img" class="border rounded"
            style="width:100px; height:100px; object-fit:cover;" />
        </div>

        <div *ngIf="jobData.videoLink" class="mt-3">
          <a [href]="jobData.videoLink" target="_blank" class="text-decoration-none text-primary small">
            ▶ View Job Video
          </a>
        </div>
      </div>
    </div>

    <!-- RIGHT: Preferences Form (40%) -->
    <div class="col-md-5 ps-4">
      <h5 class="fw-bold mb-3">Solution Preferences</h5>

      <form [formGroup]="prefForm" (ngSubmit)="onPostJob()">
        <div class="mb-3">
          <label class="form-label small fw-semibold">Need solution with how many images?</label>
          <select class="form-select form-select-sm" formControlName="solutionImages">
            <option value="0">0 (text only)</option>
            <option value="1">1 image</option>
            <option value="2">2 images</option>
            <option value="3">3 images</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label small fw-semibold">Required text length</label>
          <select class="form-select form-select-sm" formControlName="textLength">
            <option value="20+">20+ words</option>
            <option value="50+">50+ words</option>
            <option value="custom">Custom</option>
          </select>
        </div>

        <div *ngIf="prefForm.get('textLength')?.value === 'custom'" class="mb-3">
          <input type="number" formControlName="customLength" class="form-control form-control-sm" placeholder="Enter minimum words" />
        </div>

        <div class="mb-3">
          <label class="form-label small fw-semibold">Additional instructions</label>
          <textarea rows="3" class="form-control form-control-sm" formControlName="instructions"
            placeholder="Describe how you want the solution"></textarea>
        </div>

        <div class="text-end mt-4">
          <button type="submit" class="btn btn-success btn-sm px-4">Post Job</button>
        </div>
      </form>
    </div>
  </div>
</div>
